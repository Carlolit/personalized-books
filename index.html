<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Персональная история</title>
</head>
<body>

<h1>Создать персональную историю</h1>

<div>
    <label>Имя героя:</label><br>
    <input type="text" id="heroName" placeholder="Введите имя">
</div>

<div>
    <label>Фотография:</label><br>
    <input type="file" id="heroPhoto">
</div>

<button type="button" onclick="createStory()">Создать историю</button>

<script>
function createStory() {
    const name = document.getElementById('heroName').value;
    const photoInput = document.getElementById('heroPhoto');
    const photo = photoInput.files[0];

    if (!name) {
        alert("Введите имя героя!");
        return;
    }

    if (!photo) {
        alert("Выберите фото!");
        return;
    }

    // Создаём FormData для отправки на сервер
    const formData = new FormData();
    formData.append('heroName', name);
    formData.append('heroPhoto', photo);

    // Временный тестовый API (будет позже реальный)
    fetch('https://example.com/api/create-story', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => {
        // Здесь получаем результат от сервера
        alert("История создана! Текст: " + data.story);
    })
    .catch(error => {
        console.error(error);
        alert("Произошла ошибка при создании истории");
    });
}
</script>

</body>
</html>
